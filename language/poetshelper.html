<!DOCTYPE html>
<html lang="en" ng-app>
	<head>
    <script type="text/javascript"
        src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.0-beta.7/angular.min.js"></script>
    <script type="text/javascript" src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
    <script type="text/javascript" src="phScript.js"></script>
	</head>
	<body>
		<div ng-controller="PHCtrl">
			<label>Advanced <input type="checkbox" ng-model="advanced" ng-init="checked=false" /></label>
			<div ng-if="!advanced">
				<p>Let's say you're writing a poem...</p>
				<p>In Xanadu did Kublai Khan</br>
					A sacred pleasure-dome <span style="color:blue;">mandate</span></br>
					Where Alph, the sacred river, ran,</br>
					Through caverns measureless to man,</br>
					Down to a sunless <span style="color:red;">deep</span></p>
				<p>And you can't get some words to rhyme!</p>
				<p>Well no problem, just put them in here:</p>
				<input style="color:blue;" type="text" ng-model="input.blueWord" ng-change="console.log('Changed')">
				<input style="color:red;" type="text" ng-model="input.redWord">
				<p>And I will find 'synonyms' of those words that rhyme with each other!</p>
				<button ng-click="easyButtonClick()">Get Rhyming Synonyms!</button>

				<div>
					<div ng-show="status.showSynonymsCount">Looking up {{status.blueSynonymsCount}} / {{status.blueSynonymsTotal}} entries for {{input.blueWord}} and {{status.redSynonymsCount}} / {{status.redSynonymsTotal}} entries for {{input.redWord}}</div>
					<div>{{status.message}}</div>
					<table>
						<tr>
							<td style="color:blue;">{{input.blueWord}}</td>
							<td style="color:red;">{{input.redWord}}</td>
						</tr>
						<tr ng-repeat="suggestion in blueSuggestions track by $index">
							<td>
								<div>{{suggestion.word}}</div>
							</td>
							<td>
								<div>{{suggestion.cameFrom}}</div>
							</td>
						</tr>
					</table>
				</div>

			</div>
			<div ng-if="advanced">
				<div class="instructions">
					<p>In Xanadu did Kublai Khan</br>
					A sacred pleasure-dome <span style="color:blue;">mandate</span></br>
					Where Alph, the sacred river, ran,</br>
					Through caverns measureless to man,</br>
					Down to a sunless <span style="color:red;">-----</span></p>
				</div>
				<input style="color:blue;" type="text" ng-model="inputWord">
				<button ng-click="buttonClick()">click</button>

				<div>
					<div ng-repeat="suggestion in suggestions track by $index">
						<table style="width:100%;">
							<tr>
							<td style="vertical-align:middle;width:25%;">
								<div style="">
									<div>{{suggestion.word}}</div>
								</div>
							</td>
							<td style="width:75%;">
								<span ng-repeat="rhyme in suggestion.rhymes track by $index">{{rhyme}}, </span>
							</td>
							</tr>
						</table>
					</div>
				</div>

			</div>
			
		</div>
		<!--<div class="forcegraph"></div>-->
	</body>
</html>